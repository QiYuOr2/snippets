<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="apple-touch-icon" href="/snippets/pwa-192x192.png"><link rel="mask-icon" href="/snippets/safari-pinned-tab.svg" color="#00aba9"><meta name="msapplication-TileColor" content="#00aba9"><script>!function(){var e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=localStorage.getItem("vueuse-color-scheme")||"auto";("dark"===t||e&&"light"!==t)&&document.documentElement.classList.toggle("dark",!0)}()</script><script type="module" async="" crossorigin="" src="/snippets/assets/app.e6063f4e.js"></script><link rel="stylesheet" href="/snippets/assets/index.0896cbd3.css"><link rel="manifest" href="/snippets/manifest.webmanifest"><link rel="modulepreload" crossorigin="" href="/snippets/assets/code.652201b4.js"><link rel="modulepreload" crossorigin="" href="/snippets/assets/bottom-sheet.764f856a.js"><link rel="stylesheet" href="/snippets/assets/bottom-sheet.07666af8.css"><title>底部弹层组件</title><meta name="description" content="snippets vue demo"><meta name="theme-color" content="#ffffff"><meta property="og:title" content="底部弹层组件"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="head:count" content="4"></head><body class="font-sans"><div id="app" data-server-rendered="true"><main class="container px-4 m-auto"><div class="prose prose-sm m-auto text-left"><h1>底部弹层组件</h1><!----><p><strong>注意</strong>: 该组件交互基于 Touch 事件编写，PC 仅点击有效</p><h2>示例代码</h2><pre><code class="language-vue"><div class="shiki-container"><pre class="shiki shiki-dark" style="background-color:#121212"><code v-pre=""><span class="line"><span style="color:#666">&lt;</span><span style="color:#4d9375">script</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">setup</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">lang</span><span style="color:#dbd7CAEE">=</span><span style="color:#c98A7DAA">"</span><span style="color:#c98a7d">ts</span><span style="color:#c98A7DAA">"</span><span style="color:#666">&gt;</span></span>
<span class="line"><span style="color:#4d9375">import</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">BottomSheet</span><span style="color:#dbd7CAEE"> </span><span style="color:#4d9375">from</span><span style="color:#dbd7CAEE"> </span><span style="color:#c98A7DAA">"</span><span style="color:#c98a7d">@lib/vue/components/bottom-sheet.vue</span><span style="color:#c98A7DAA">"</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#4d9375">import</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">useToggle</span><span style="color:#dbd7CAEE"> </span><span style="color:#4d9375">from</span><span style="color:#dbd7CAEE"> </span><span style="color:#c98A7DAA">"</span><span style="color:#c98a7d">@lib/vue/composables/useToggle</span><span style="color:#c98A7DAA">"</span><span style="color:#666">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#cb7676">const </span><span style="color:#666">[</span><span style="color:#bd976a">visible</span><span style="color:#666">,</span><span style="color:#cb7676"> </span><span style="color:#bd976a">toggle</span><span style="color:#666">]</span><span style="color:#cb7676"> </span><span style="color:#666">=</span><span style="color:#cb7676"> </span><span style="color:#80a665">useToggle</span><span style="color:#666">(</span><span style="color:#4d9375">false</span><span style="color:#666">);</span></span>
<span class="line"><span style="color:#666">&lt;/</span><span style="color:#4d9375">script</span><span style="color:#666">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666">&lt;</span><span style="color:#4d9375">template</span><span style="color:#666">&gt;</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#666">&lt;</span><span style="color:#4d9375">div</span><span style="color:#666">&gt;</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#666">&lt;</span><span style="color:#4d9375">div</span><span style="color:#666"> @</span><span style="color:#bd976a">click</span><span style="color:#666">=</span><span style="color:#c98A7DAA">"</span><span style="color:#80a665">toggle</span><span style="color:#666">()</span><span style="color:#c98A7DAA">"</span><span style="color:#666">&gt;</span><span style="color:#dbd7CAEE">点击展开</span><span style="color:#666">&lt;/</span><span style="color:#4d9375">div</span><span style="color:#666">&gt;</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#666">&lt;/</span><span style="color:#4d9375">div</span><span style="color:#666">&gt;</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#666">&lt;</span><span style="color:#b8a965">BottomSheet</span><span style="color:#666"> </span><span style="color:#bd976a">v-model</span><span style="color:#666">:</span><span style="color:#bd976a">visible</span><span style="color:#666">=</span><span style="color:#c98A7DAA">"</span><span style="color:#bd976a">visible</span><span style="color:#c98A7DAA">"</span><span style="color:#666"> </span><span style="color:#bd976a">show-active-bar</span><span style="color:#666">&gt;</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#666">&lt;</span><span style="color:#4d9375">div</span><span style="color:#666"> </span><span style="color:#bd976a">class</span><span style="color:#666">=</span><span style="color:#c98A7DAA">"</span><span style="color:#c98a7d">px-4</span><span style="color:#c98A7DAA">"</span><span style="color:#666">&gt;</span><span style="color:#dbd7CAEE">内容</span><span style="color:#666">&lt;/</span><span style="color:#4d9375">div</span><span style="color:#666">&gt;</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#666">&lt;/</span><span style="color:#b8a965">BottomSheet</span><span style="color:#666">&gt;</span></span>
<span class="line"><span style="color:#666">&lt;/</span><span style="color:#4d9375">template</span><span style="color:#666">&gt;</span></span>
<span class="line"></span></code></pre><pre class="shiki shiki-light" style="background-color:#fff"><code v-pre=""><span class="line"><span style="color:#999">&lt;</span><span style="color:#1e754f">script</span><span style="color:#393a34"> </span><span style="color:#b07d48">setup</span><span style="color:#393a34"> </span><span style="color:#b07d48">lang</span><span style="color:#393a34">=</span><span style="color:#b56959AA">"</span><span style="color:#b56959">ts</span><span style="color:#b56959AA">"</span><span style="color:#999">&gt;</span></span>
<span class="line"><span style="color:#1e754f">import</span><span style="color:#393a34"> </span><span style="color:#b07d48">BottomSheet</span><span style="color:#393a34"> </span><span style="color:#1e754f">from</span><span style="color:#393a34"> </span><span style="color:#b56959AA">"</span><span style="color:#b56959">@lib/vue/components/bottom-sheet.vue</span><span style="color:#b56959AA">"</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#1e754f">import</span><span style="color:#393a34"> </span><span style="color:#b07d48">useToggle</span><span style="color:#393a34"> </span><span style="color:#1e754f">from</span><span style="color:#393a34"> </span><span style="color:#b56959AA">"</span><span style="color:#b56959">@lib/vue/composables/useToggle</span><span style="color:#b56959AA">"</span><span style="color:#999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ab5959">const </span><span style="color:#999">[</span><span style="color:#b07d48">visible</span><span style="color:#999">,</span><span style="color:#ab5959"> </span><span style="color:#b07d48">toggle</span><span style="color:#999">]</span><span style="color:#ab5959"> </span><span style="color:#999">=</span><span style="color:#ab5959"> </span><span style="color:#59873a">useToggle</span><span style="color:#999">(</span><span style="color:#1e754f">false</span><span style="color:#999">);</span></span>
<span class="line"><span style="color:#999">&lt;/</span><span style="color:#1e754f">script</span><span style="color:#999">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999">&lt;</span><span style="color:#1e754f">template</span><span style="color:#999">&gt;</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#999">&lt;</span><span style="color:#1e754f">div</span><span style="color:#999">&gt;</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#999">&lt;</span><span style="color:#1e754f">div</span><span style="color:#999"> @</span><span style="color:#b07d48">click</span><span style="color:#999">=</span><span style="color:#b56959AA">"</span><span style="color:#59873a">toggle</span><span style="color:#999">()</span><span style="color:#b56959AA">"</span><span style="color:#999">&gt;</span><span style="color:#393a34">点击展开</span><span style="color:#999">&lt;/</span><span style="color:#1e754f">div</span><span style="color:#999">&gt;</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#999">&lt;/</span><span style="color:#1e754f">div</span><span style="color:#999">&gt;</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#999">&lt;</span><span style="color:#998418">BottomSheet</span><span style="color:#999"> </span><span style="color:#b07d48">v-model</span><span style="color:#999">:</span><span style="color:#b07d48">visible</span><span style="color:#999">=</span><span style="color:#b56959AA">"</span><span style="color:#b07d48">visible</span><span style="color:#b56959AA">"</span><span style="color:#999"> </span><span style="color:#b07d48">show-active-bar</span><span style="color:#999">&gt;</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#999">&lt;</span><span style="color:#1e754f">div</span><span style="color:#999"> </span><span style="color:#b07d48">class</span><span style="color:#999">=</span><span style="color:#b56959AA">"</span><span style="color:#b56959">px-4</span><span style="color:#b56959AA">"</span><span style="color:#999">&gt;</span><span style="color:#393a34">内容</span><span style="color:#999">&lt;/</span><span style="color:#1e754f">div</span><span style="color:#999">&gt;</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#999">&lt;/</span><span style="color:#998418">BottomSheet</span><span style="color:#999">&gt;</span></span>
<span class="line"><span style="color:#999">&lt;/</span><span style="color:#1e754f">template</span><span style="color:#999">&gt;</span></span>
<span class="line"></span></code></pre></div></code></pre><h2>源码</h2><pre><code class="language-vue"><div class="shiki-container"><pre class="shiki shiki-dark" style="background-color:#121212"><code v-pre=""><span class="line"><span style="color:#666">&lt;</span><span style="color:#4d9375">script</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">lang</span><span style="color:#dbd7CAEE">=</span><span style="color:#c98A7DAA">"</span><span style="color:#c98a7d">ts</span><span style="color:#c98A7DAA">"</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">setup</span><span style="color:#666">&gt;</span></span>
<span class="line"><span style="color:#4d9375">import</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">computed</span><span style="color:#666">,</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">ref</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">}</span><span style="color:#dbd7CAEE"> </span><span style="color:#4d9375">from</span><span style="color:#dbd7CAEE"> </span><span style="color:#c98A7DAA">"</span><span style="color:#c98a7d">vue</span><span style="color:#c98A7DAA">"</span><span style="color:#666">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4d9375">import</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">bemCreator</span><span style="color:#dbd7CAEE"> </span><span style="color:#4d9375">from</span><span style="color:#dbd7CAEE"> </span><span style="color:#c98A7DAA">"</span><span style="color:#c98a7d">@lib/shared/bem</span><span style="color:#c98A7DAA">"</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#4d9375">import</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">useToggle</span><span style="color:#dbd7CAEE"> </span><span style="color:#4d9375">from</span><span style="color:#dbd7CAEE"> </span><span style="color:#c98A7DAA">"</span><span style="color:#c98a7d">@lib/vue/composables/useToggle</span><span style="color:#c98A7DAA">"</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#4d9375">import</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">useTouchMove</span><span style="color:#dbd7CAEE"> </span><span style="color:#4d9375">from</span><span style="color:#dbd7CAEE"> </span><span style="color:#c98A7DAA">"</span><span style="color:#c98a7d">@lib/vue/composables/useTouchMove</span><span style="color:#c98A7DAA">"</span><span style="color:#666">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575DD">/**</span></span>
<span class="line"><span style="color:#758575DD"> * 关闭时展示active bar的高度</span></span>
<span class="line"><span style="color:#758575DD"> */</span></span>
<span class="line"><span style="color:#cb7676">const </span><span style="color:#bd976a">ActiveBarHeight</span><span style="color:#cb7676"> </span><span style="color:#666">=</span><span style="color:#cb7676"> </span><span style="color:#4c9a91">26</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#cb7676">const </span><span style="color:#bd976a">bem</span><span style="color:#cb7676"> </span><span style="color:#666">=</span><span style="color:#cb7676"> </span><span style="color:#80a665">bemCreator</span><span style="color:#666">(</span><span style="color:#c98A7DAA">"</span><span style="color:#c98a7d">bottom-sheet</span><span style="color:#c98A7DAA">"</span><span style="color:#666">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#cb7676">const </span><span style="color:#bd976a">props</span><span style="color:#cb7676"> </span><span style="color:#666">=</span><span style="color:#cb7676"> </span><span style="color:#80a665">withDefaults</span><span style="color:#666">(</span></span>
<span class="line"><span style="color:#cb7676">  </span><span style="color:#80a665">defineProps</span><span style="color:#666">&lt;{</span></span>
<span class="line"><span style="color:#cb7676">    </span><span style="color:#bd976a">visible</span><span style="color:#666">: </span><span style="color:#5da9a7">boolean</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#cb7676">    </span><span style="color:#bd976a">height</span><span style="color:#cb7676">?</span><span style="color:#666">: </span><span style="color:#5da9a7">number</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#cb7676">    </span><span style="color:#bd976a">disableOverlayClick</span><span style="color:#cb7676">?</span><span style="color:#666">: </span><span style="color:#5da9a7">boolean</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#cb7676">    </span><span style="color:#bd976a">showActiveBar</span><span style="color:#cb7676">?</span><span style="color:#666">: </span><span style="color:#5da9a7">boolean</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#cb7676">  </span><span style="color:#666">}&gt;(),</span></span>
<span class="line"><span style="color:#cb7676">  </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#cb7676">    </span><span style="color:#b8a965">disableOverlayClick</span><span style="color:#666">:</span><span style="color:#cb7676"> </span><span style="color:#4d9375">false</span><span style="color:#666">,</span></span>
<span class="line"><span style="color:#cb7676">    </span><span style="color:#b8a965">height</span><span style="color:#666">:</span><span style="color:#cb7676"> </span><span style="color:#4c9a91">500</span><span style="color:#666">,</span></span>
<span class="line"><span style="color:#cb7676">    </span><span style="color:#b8a965">showActiveBar</span><span style="color:#666">:</span><span style="color:#cb7676"> </span><span style="color:#4d9375">false</span><span style="color:#666">,</span></span>
<span class="line"><span style="color:#cb7676">  </span><span style="color:#666">}</span></span>
<span class="line"><span style="color:#666">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#cb7676">const </span><span style="color:#bd976a">emits</span><span style="color:#cb7676"> </span><span style="color:#666">=</span><span style="color:#cb7676"> </span><span style="color:#80a665">defineEmits</span><span style="color:#666">&lt;{</span></span>
<span class="line"><span style="color:#cb7676">  </span><span style="color:#666">(</span><span style="color:#bd976a">event</span><span style="color:#666">: </span><span style="color:#c98A7DAA">"</span><span style="color:#c98a7d">update:visible</span><span style="color:#c98A7DAA">"</span><span style="color:#666">,</span><span style="color:#cb7676"> </span><span style="color:#bd976a">value</span><span style="color:#666">: </span><span style="color:#5da9a7">boolean</span><span style="color:#666">):</span><span style="color:#cb7676"> </span><span style="color:#5da9a7">void</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#666">}&gt;();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#cb7676">const </span><span style="color:#bd976a">selfVisible</span><span style="color:#cb7676"> </span><span style="color:#666">=</span><span style="color:#cb7676"> </span><span style="color:#80a665">computed</span><span style="color:#666">({</span></span>
<span class="line"><span style="color:#cb7676">  </span><span style="color:#80a665">get</span><span style="color:#666">()</span><span style="color:#cb7676"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#cb7676">    </span><span style="color:#4d9375">return</span><span style="color:#cb7676"> </span><span style="color:#bd976a">props</span><span style="color:#666">.</span><span style="color:#bd976a">visible</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#cb7676">  </span><span style="color:#666">},</span></span>
<span class="line"><span style="color:#cb7676">  </span><span style="color:#80a665">set</span><span style="color:#666">(</span><span style="color:#bd976a">val</span><span style="color:#666">)</span><span style="color:#cb7676"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#cb7676">    </span><span style="color:#80a665">emits</span><span style="color:#666">(</span><span style="color:#c98A7DAA">"</span><span style="color:#c98a7d">update:visible</span><span style="color:#c98A7DAA">"</span><span style="color:#666">,</span><span style="color:#cb7676"> </span><span style="color:#bd976a">val</span><span style="color:#666">);</span></span>
<span class="line"><span style="color:#cb7676">  </span><span style="color:#666">},</span></span>
<span class="line"><span style="color:#666">});</span></span>
<span class="line"><span style="color:#cb7676">const </span><span style="color:#80a665">toggleSelfVisible</span><span style="color:#cb7676"> </span><span style="color:#666">=</span><span style="color:#cb7676"> </span><span style="color:#666">(</span><span style="color:#bd976a">value</span><span style="color:#cb7676">?</span><span style="color:#666">: </span><span style="color:#5da9a7">boolean</span><span style="color:#666">)</span><span style="color:#cb7676"> </span><span style="color:#666">=&gt;</span><span style="color:#cb7676"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#cb7676">  </span><span style="color:#bd976a">selfVisible</span><span style="color:#666">.</span><span style="color:#bd976a">value</span><span style="color:#cb7676"> </span><span style="color:#666">=</span><span style="color:#cb7676"> </span><span style="color:#bd976a">value</span><span style="color:#cb7676"> === undefined ? !</span><span style="color:#bd976a">selfVisible</span><span style="color:#666">.</span><span style="color:#bd976a">value</span><span style="color:#cb7676"> : </span><span style="color:#bd976a">value</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#666">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#cb7676">const </span><span style="color:#80a665">overlayClickHandler</span><span style="color:#cb7676"> </span><span style="color:#666">=</span><span style="color:#cb7676"> </span><span style="color:#666">()</span><span style="color:#cb7676"> </span><span style="color:#666">=&gt;</span><span style="color:#cb7676"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#cb7676">  </span><span style="color:#4d9375">if</span><span style="color:#cb7676"> </span><span style="color:#666">(</span><span style="color:#bd976a">props</span><span style="color:#666">.</span><span style="color:#bd976a">disableOverlayClick</span><span style="color:#666">)</span><span style="color:#cb7676"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#cb7676">    </span><span style="color:#4d9375">return</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#cb7676">  </span><span style="color:#666">}</span></span>
<span class="line"><span style="color:#cb7676">  </span><span style="color:#80a665">toggleSelfVisible</span><span style="color:#666">(</span><span style="color:#4d9375">false</span><span style="color:#666">);</span></span>
<span class="line"><span style="color:#666">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575DD">/**</span></span>
<span class="line"><span style="color:#758575DD"> * 基准速度</span></span>
<span class="line"><span style="color:#758575DD"> */</span></span>
<span class="line"><span style="color:#cb7676">const </span><span style="color:#bd976a">BasicV</span><span style="color:#cb7676"> </span><span style="color:#666">=</span><span style="color:#cb7676"> </span><span style="color:#4c9a91">0.5</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#cb7676">const </span><span style="color:#666">[</span><span style="color:#bd976a">isTouching</span><span style="color:#666">,</span><span style="color:#cb7676"> </span><span style="color:#bd976a">toggleIsTouching</span><span style="color:#666">]</span><span style="color:#cb7676"> </span><span style="color:#666">=</span><span style="color:#cb7676"> </span><span style="color:#80a665">useToggle</span><span style="color:#666">(</span><span style="color:#4d9375">false</span><span style="color:#666">);</span></span>
<span class="line"><span style="color:#cb7676">const </span><span style="color:#bd976a">willToPosition</span><span style="color:#cb7676"> </span><span style="color:#666">=</span><span style="color:#cb7676"> </span><span style="color:#80a665">ref</span><span style="color:#666">(</span><span style="color:#c98A7DAA">""</span><span style="color:#666">);</span></span>
<span class="line"><span style="color:#cb7676">const </span><span style="color:#666">{</span><span style="color:#cb7676"> </span><span style="color:#bd976a">distanceY</span><span style="color:#666">,</span><span style="color:#cb7676"> </span><span style="color:#bd976a">deltaTime</span><span style="color:#666">,</span><span style="color:#cb7676"> </span><span style="color:#bd976a">touchStart</span><span style="color:#666">,</span><span style="color:#cb7676"> </span><span style="color:#bd976a">touchMove</span><span style="color:#666">,</span><span style="color:#cb7676"> </span><span style="color:#bd976a">touchEnd</span><span style="color:#cb7676"> </span><span style="color:#666">}</span><span style="color:#cb7676"> </span><span style="color:#666">=</span><span style="color:#cb7676"> </span><span style="color:#80a665">useTouchMove</span><span style="color:#666">({</span></span>
<span class="line"><span style="color:#cb7676">  </span><span style="color:#80a665">onTouchStart</span><span style="color:#666">()</span><span style="color:#cb7676"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#cb7676">    </span><span style="color:#80a665">toggleIsTouching</span><span style="color:#666">(</span><span style="color:#4d9375">true</span><span style="color:#666">);</span></span>
<span class="line"><span style="color:#cb7676">    </span><span style="color:#bd976a">willToPosition</span><span style="color:#666">.</span><span style="color:#bd976a">value</span><span style="color:#cb7676"> </span><span style="color:#666">=</span><span style="color:#cb7676"> </span><span style="color:#c98A7DAA">""</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#cb7676">  </span><span style="color:#666">},</span></span>
<span class="line"><span style="color:#cb7676">  </span><span style="color:#80a665">onTouchEnd</span><span style="color:#666">()</span><span style="color:#cb7676"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#cb7676">    </span><span style="color:#80a665">toggleIsTouching</span><span style="color:#666">(</span><span style="color:#4d9375">false</span><span style="color:#666">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#cb7676">    const </span><span style="color:#bd976a">v</span><span style="color:#cb7676"> </span><span style="color:#666">=</span><span style="color:#cb7676"> </span><span style="color:#bd976a">Math</span><span style="color:#666">.</span><span style="color:#80a665">abs</span><span style="color:#666">(</span><span style="color:#bd976a">distanceY</span><span style="color:#666">.</span><span style="color:#bd976a">value</span><span style="color:#666">)</span><span style="color:#cb7676"> / </span><span style="color:#bd976a">deltaTime</span><span style="color:#666">.</span><span style="color:#bd976a">value</span><span style="color:#666">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#cb7676">    </span><span style="color:#4d9375">if</span><span style="color:#cb7676"> </span><span style="color:#666">(</span></span>
<span class="line"><span style="color:#cb7676">      </span><span style="color:#bd976a">distanceY</span><span style="color:#666">.</span><span style="color:#bd976a">value</span><span style="color:#cb7676"> &gt; </span><span style="color:#bd976a">props</span><span style="color:#666">.</span><span style="color:#bd976a">height</span><span style="color:#cb7676"> / </span><span style="color:#4c9a91">2</span><span style="color:#cb7676"> ||</span></span>
<span class="line"><span style="color:#cb7676">      </span><span style="color:#666">(</span><span style="color:#bd976a">selfVisible</span><span style="color:#666">.</span><span style="color:#bd976a">value</span><span style="color:#cb7676"> &amp;&amp; </span><span style="color:#bd976a">distanceY</span><span style="color:#666">.</span><span style="color:#bd976a">value</span><span style="color:#cb7676"> &gt; </span><span style="color:#4c9a91">0</span><span style="color:#cb7676"> &amp;&amp; </span><span style="color:#bd976a">v</span><span style="color:#cb7676"> &gt; </span><span style="color:#bd976a">BasicV</span><span style="color:#666">)</span></span>
<span class="line"><span style="color:#cb7676">    </span><span style="color:#666">)</span><span style="color:#cb7676"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#666">      </span><span style="color:#758575DD">// 向下滑动 =&gt; 距离超过高度一般 or 方向正确 速度大于基准值</span></span>
<span class="line"><span style="color:#cb7676">      </span><span style="color:#80a665">toggleSelfVisible</span><span style="color:#666">(</span><span style="color:#4d9375">false</span><span style="color:#666">);</span></span>
<span class="line"><span style="color:#cb7676">    </span><span style="color:#666">}</span><span style="color:#cb7676"> </span><span style="color:#4d9375">else</span><span style="color:#cb7676"> </span><span style="color:#4d9375">if</span><span style="color:#cb7676"> </span><span style="color:#666">(</span><span style="color:#bd976a">distanceY</span><span style="color:#666">.</span><span style="color:#bd976a">value</span><span style="color:#cb7676"> &lt; </span><span style="color:#4c9a91">0</span><span style="color:#cb7676"> &amp;&amp; !</span><span style="color:#bd976a">selfVisible</span><span style="color:#666">.</span><span style="color:#bd976a">value</span><span style="color:#666">)</span><span style="color:#cb7676"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#666">      </span><span style="color:#758575DD">// 向上滑动，仅关闭时触发</span></span>
<span class="line"><span style="color:#cb7676">      </span><span style="color:#80a665">toggleSelfVisible</span><span style="color:#666">();</span></span>
<span class="line"><span style="color:#cb7676">      </span><span style="color:#bd976a">willToPosition</span><span style="color:#666">.</span><span style="color:#bd976a">value</span><span style="color:#cb7676"> </span><span style="color:#666">=</span><span style="color:#cb7676"> </span><span style="color:#c98A7DAA">"</span><span style="color:#c98a7d">0px</span><span style="color:#c98A7DAA">"</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#cb7676">    </span><span style="color:#666">}</span></span>
<span class="line"><span style="color:#cb7676">  </span><span style="color:#666">},</span></span>
<span class="line"><span style="color:#666">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575DD">/**</span></span>
<span class="line"><span style="color:#758575DD"> * 触发模式动画计算</span></span>
<span class="line"><span style="color:#758575DD"> */</span></span>
<span class="line"><span style="color:#cb7676">const </span><span style="color:#bd976a">triggerAnimeStyle</span><span style="color:#cb7676"> </span><span style="color:#666">=</span><span style="color:#cb7676"> </span><span style="color:#80a665">computed</span><span style="color:#666">(()</span><span style="color:#cb7676"> </span><span style="color:#666">=&gt;</span><span style="color:#cb7676"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#cb7676">  const </span><span style="color:#bd976a">commonStyle</span><span style="color:#cb7676"> </span><span style="color:#666">=</span><span style="color:#cb7676"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#cb7676">    </span><span style="color:#b8a965">height</span><span style="color:#666">:</span><span style="color:#cb7676"> </span><span style="color:#c98A7DAA">`</span><span style="color:#666">${</span><span style="color:#c98a7d">props</span><span style="color:#666">.</span><span style="color:#c98a7d">height</span><span style="color:#666">}</span><span style="color:#c98a7d">px</span><span style="color:#c98A7DAA">`</span><span style="color:#666">,</span></span>
<span class="line"><span style="color:#cb7676">  </span><span style="color:#666">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#cb7676">  const </span><span style="color:#80a665">computeBottom</span><span style="color:#cb7676"> </span><span style="color:#666">=</span><span style="color:#cb7676"> </span><span style="color:#666">()</span><span style="color:#cb7676"> </span><span style="color:#666">=&gt;</span><span style="color:#cb7676"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#cb7676">    </span><span style="color:#4d9375">if</span><span style="color:#cb7676"> </span><span style="color:#666">(</span><span style="color:#bd976a">selfVisible</span><span style="color:#666">.</span><span style="color:#bd976a">value</span><span style="color:#666">)</span><span style="color:#cb7676"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#cb7676">      </span><span style="color:#4d9375">return</span><span style="color:#cb7676"> </span><span style="color:#bd976a">isTouching</span><span style="color:#666">.</span><span style="color:#bd976a">value</span></span>
<span class="line"><span style="color:#cb7676">        ? </span><span style="color:#c98A7DAA">`</span><span style="color:#666">${</span><span style="color:#cb7676">-</span><span style="color:#4c9a91">1</span><span style="color:#c98a7d"> </span><span style="color:#cb7676">*</span><span style="color:#c98a7d"> distanceY</span><span style="color:#666">.</span><span style="color:#c98a7d">value</span><span style="color:#666">}</span><span style="color:#c98a7d">px</span><span style="color:#c98A7DAA">`</span></span>
<span class="line"><span style="color:#cb7676">        : </span><span style="color:#bd976a">willToPosition</span><span style="color:#666">.</span><span style="color:#bd976a">value</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#cb7676">    </span><span style="color:#666">}</span><span style="color:#cb7676"> </span><span style="color:#4d9375">else</span><span style="color:#cb7676"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#cb7676">      </span><span style="color:#4d9375">return</span><span style="color:#cb7676"> </span><span style="color:#bd976a">isTouching</span><span style="color:#666">.</span><span style="color:#bd976a">value</span><span style="color:#cb7676"> &amp;&amp; </span><span style="color:#bd976a">Math</span><span style="color:#666">.</span><span style="color:#80a665">abs</span><span style="color:#666">(</span><span style="color:#bd976a">distanceY</span><span style="color:#666">.</span><span style="color:#bd976a">value</span><span style="color:#666">)</span><span style="color:#cb7676"> &gt; </span><span style="color:#bd976a">ActiveBarHeight</span></span>
<span class="line"><span style="color:#cb7676">        ? </span><span style="color:#c98A7DAA">`</span><span style="color:#666">${</span><span style="color:#cb7676">-</span><span style="color:#4c9a91">1</span><span style="color:#c98a7d"> </span><span style="color:#cb7676">*</span><span style="color:#c98a7d"> distanceY</span><span style="color:#666">.</span><span style="color:#c98a7d">value </span><span style="color:#cb7676">-</span><span style="color:#c98a7d"> props</span><span style="color:#666">.</span><span style="color:#c98a7d">height</span><span style="color:#666">}</span><span style="color:#c98a7d">px</span><span style="color:#c98A7DAA">`</span></span>
<span class="line"><span style="color:#cb7676">        : </span><span style="color:#c98A7DAA">`</span><span style="color:#666">${</span></span>
<span class="line"><span style="color:#c98a7d">            </span><span style="color:#cb7676">-</span><span style="color:#4c9a91">1</span><span style="color:#c98a7d"> </span><span style="color:#cb7676">*</span><span style="color:#c98a7d"> </span><span style="color:#666">(</span><span style="color:#c98a7d">props</span><span style="color:#666">.</span><span style="color:#c98a7d">height </span><span style="color:#cb7676">-</span><span style="color:#c98a7d"> </span><span style="color:#666">(</span><span style="color:#c98a7d">props</span><span style="color:#666">.</span><span style="color:#c98a7d">showActiveBar </span><span style="color:#cb7676">?</span><span style="color:#c98a7d"> ActiveBarHeight </span><span style="color:#cb7676">:</span><span style="color:#c98a7d"> </span><span style="color:#4c9a91">0</span><span style="color:#666">))</span></span>
<span class="line"><span style="color:#c98a7d">          </span><span style="color:#666">}</span><span style="color:#c98a7d">px</span><span style="color:#c98A7DAA">`</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#cb7676">    </span><span style="color:#666">}</span></span>
<span class="line"><span style="color:#cb7676">  </span><span style="color:#666">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#cb7676">  </span><span style="color:#4d9375">return</span><span style="color:#cb7676"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#cb7676">    </span><span style="color:#666">...</span><span style="color:#bd976a">commonStyle</span><span style="color:#666">,</span></span>
<span class="line"><span style="color:#cb7676">    </span><span style="color:#b8a965">bottom</span><span style="color:#666">:</span><span style="color:#cb7676"> </span><span style="color:#80a665">computeBottom</span><span style="color:#666">(),</span></span>
<span class="line"><span style="color:#cb7676">  </span><span style="color:#666">};</span></span>
<span class="line"><span style="color:#666">});</span></span>
<span class="line"><span style="color:#666">&lt;/</span><span style="color:#4d9375">script</span><span style="color:#666">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666">&lt;</span><span style="color:#4d9375">template</span><span style="color:#666">&gt;</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#666">&lt;</span><span style="color:#b8a965">Teleport</span><span style="color:#666"> </span><span style="color:#bd976a">to</span><span style="color:#666">=</span><span style="color:#c98A7DAA">"</span><span style="color:#c98a7d">body</span><span style="color:#c98A7DAA">"</span><span style="color:#666">&gt;</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#666">&lt;</span><span style="color:#b8a965">Transition</span><span style="color:#666"> </span><span style="color:#bd976a">name</span><span style="color:#666">=</span><span style="color:#c98A7DAA">"</span><span style="color:#c98a7d">fade</span><span style="color:#c98A7DAA">"</span><span style="color:#666">&gt;</span></span>
<span class="line"><span style="color:#dbd7CAEE">      </span><span style="color:#666">&lt;</span><span style="color:#4d9375">div</span></span>
<span class="line"><span style="color:#666">        </span><span style="color:#bd976a">v-if</span><span style="color:#666">=</span><span style="color:#c98A7DAA">"</span><span style="color:#bd976a">selfVisible</span><span style="color:#c98A7DAA">"</span></span>
<span class="line"><span style="color:#666">        </span><span style="color:#bd976a">class</span><span style="color:#666">=</span><span style="color:#c98A7DAA">"</span><span style="color:#c98a7d">overlay</span><span style="color:#c98A7DAA">"</span></span>
<span class="line"><span style="color:#666">        @</span><span style="color:#bd976a">click</span><span style="color:#666">=</span><span style="color:#c98A7DAA">"</span><span style="color:#bd976a">overlayClickHandler</span><span style="color:#c98A7DAA">"</span></span>
<span class="line"><span style="color:#666">      &gt;&lt;/</span><span style="color:#4d9375">div</span><span style="color:#666">&gt;</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#666">&lt;/</span><span style="color:#b8a965">Transition</span><span style="color:#666">&gt;</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#666">&lt;</span><span style="color:#4d9375">div</span></span>
<span class="line"><span style="color:#666">      :</span><span style="color:#bd976a">class</span><span style="color:#666">=</span><span style="color:#c98A7DAA">"</span><span style="color:#80a665">bem</span><span style="color:#666">(</span><span style="color:#c98A7DAA">''</span><span style="color:#666">, { </span><span style="color:#b8a965">active</span><span style="color:#666">: </span><span style="color:#bd976a">selfVisible</span><span style="color:#666">, </span><span style="color:#b8a965">touching</span><span style="color:#666">: </span><span style="color:#bd976a">isTouching</span><span style="color:#666"> })</span><span style="color:#c98A7DAA">"</span></span>
<span class="line"><span style="color:#666">      :</span><span style="color:#bd976a">style</span><span style="color:#666">=</span><span style="color:#c98A7DAA">"</span><span style="color:#bd976a">triggerAnimeStyle</span><span style="color:#c98A7DAA">"</span></span>
<span class="line"><span style="color:#666">    &gt;</span></span>
<span class="line"><span style="color:#dbd7CAEE">      </span><span style="color:#666">&lt;</span><span style="color:#4d9375">div</span></span>
<span class="line"><span style="color:#666">        :</span><span style="color:#bd976a">class</span><span style="color:#666">=</span><span style="color:#c98A7DAA">"</span><span style="color:#80a665">bem</span><span style="color:#666">(</span><span style="color:#c98A7DAA">'</span><span style="color:#c98a7d">header</span><span style="color:#c98A7DAA">'</span><span style="color:#666">)</span><span style="color:#c98A7DAA">"</span></span>
<span class="line"><span style="color:#666">        @</span><span style="color:#bd976a">touchstart</span><span style="color:#666">.</span><span style="color:#bd976a">stop</span><span style="color:#666">=</span><span style="color:#c98A7DAA">"</span><span style="color:#bd976a">touchStart</span><span style="color:#c98A7DAA">"</span></span>
<span class="line"><span style="color:#666">        @</span><span style="color:#bd976a">touchmove</span><span style="color:#666">.</span><span style="color:#bd976a">stop</span><span style="color:#666">=</span><span style="color:#c98A7DAA">"</span><span style="color:#bd976a">touchMove</span><span style="color:#c98A7DAA">"</span></span>
<span class="line"><span style="color:#666">        @</span><span style="color:#bd976a">touchend</span><span style="color:#666">.</span><span style="color:#bd976a">stop</span><span style="color:#666">=</span><span style="color:#c98A7DAA">"</span><span style="color:#bd976a">touchEnd</span><span style="color:#c98A7DAA">"</span></span>
<span class="line"><span style="color:#666">        @</span><span style="color:#bd976a">click</span><span style="color:#666">.</span><span style="color:#bd976a">stop</span><span style="color:#666">=</span><span style="color:#c98A7DAA">"</span><span style="color:#80a665">toggleSelfVisible</span><span style="color:#666">()</span><span style="color:#c98A7DAA">"</span></span>
<span class="line"><span style="color:#666">      &gt;</span></span>
<span class="line"><span style="color:#dbd7CAEE">        </span><span style="color:#666">&lt;</span><span style="color:#4d9375">div</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">class</span><span style="color:#dbd7CAEE">=</span><span style="color:#c98A7DAA">"</span><span style="color:#c98a7d">active-bar</span><span style="color:#c98A7DAA">"</span><span style="color:#666">&gt;&lt;/</span><span style="color:#4d9375">div</span><span style="color:#666">&gt;</span></span>
<span class="line"><span style="color:#dbd7CAEE">      </span><span style="color:#666">&lt;/</span><span style="color:#4d9375">div</span><span style="color:#666">&gt;</span></span>
<span class="line"><span style="color:#dbd7CAEE">      </span><span style="color:#666">&lt;</span><span style="color:#4d9375">div</span><span style="color:#666"> :</span><span style="color:#bd976a">class</span><span style="color:#666">=</span><span style="color:#c98A7DAA">"</span><span style="color:#80a665">bem</span><span style="color:#666">(</span><span style="color:#c98A7DAA">'</span><span style="color:#c98a7d">content</span><span style="color:#c98A7DAA">'</span><span style="color:#666">)</span><span style="color:#c98A7DAA">"</span><span style="color:#666">&gt;</span></span>
<span class="line"><span style="color:#dbd7CAEE">        </span><span style="color:#666">&lt;</span><span style="color:#4d9375">slot</span><span style="color:#666">&gt;&lt;/</span><span style="color:#4d9375">slot</span><span style="color:#666">&gt;</span></span>
<span class="line"><span style="color:#dbd7CAEE">      </span><span style="color:#666">&lt;/</span><span style="color:#4d9375">div</span><span style="color:#666">&gt;</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#666">&lt;/</span><span style="color:#4d9375">div</span><span style="color:#666">&gt;</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#666">&lt;/</span><span style="color:#b8a965">Teleport</span><span style="color:#666">&gt;</span></span>
<span class="line"><span style="color:#666">&lt;/</span><span style="color:#4d9375">template</span><span style="color:#666">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666">&lt;</span><span style="color:#4d9375">style</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">lang</span><span style="color:#dbd7CAEE">=</span><span style="color:#c98A7DAA">"</span><span style="color:#c98a7d">less</span><span style="color:#c98A7DAA">"</span><span style="color:#666">&gt;</span></span>
<span class="line"><span style="color:#666">:</span><span style="color:#bd976a">root</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#666">--</span><span style="color:#bd976a">zindex-overlay</span><span style="color:#666">:</span><span style="color:#dbd7CAEE"> </span><span style="color:#4c9a91">2000</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#666">--</span><span style="color:#bd976a">zindex-bottom-sheet</span><span style="color:#666">:</span><span style="color:#dbd7CAEE"> </span><span style="color:#4c9a91">2001</span><span style="color:#666">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#666">--</span><span style="color:#bd976a">color-active-bar</span><span style="color:#666">:</span><span style="color:#dbd7CAEE"> </span><span style="color:#c99076">#e2e2e2</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#666">}</span></span>
<span class="line"><span style="color:#666">&lt;/</span><span style="color:#4d9375">style</span><span style="color:#666">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666">&lt;</span><span style="color:#4d9375">style</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">lang</span><span style="color:#dbd7CAEE">=</span><span style="color:#c98A7DAA">"</span><span style="color:#c98a7d">less</span><span style="color:#c98A7DAA">"</span><span style="color:#dbd7CAEE"> </span><span style="color:#bd976a">scoped</span><span style="color:#666">&gt;</span></span>
<span class="line"><span style="color:#666">.</span><span style="color:#bd976a">overlay</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#b8a965">position</span><span style="color:#666">:</span><span style="color:#dbd7CAEE"> </span><span style="color:#c99076">fixed</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#b8a965">top</span><span style="color:#666">:</span><span style="color:#dbd7CAEE"> </span><span style="color:#4c9a91">0</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#b8a965">bottom</span><span style="color:#666">:</span><span style="color:#dbd7CAEE"> </span><span style="color:#4c9a91">0</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#b8a965">left</span><span style="color:#666">:</span><span style="color:#dbd7CAEE"> </span><span style="color:#4c9a91">0</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#b8a965">right</span><span style="color:#666">:</span><span style="color:#dbd7CAEE"> </span><span style="color:#4c9a91">0</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#b8a965">z-index</span><span style="color:#666">:</span><span style="color:#dbd7CAEE"> </span><span style="color:#b8a965">var</span><span style="color:#666">(</span><span style="color:#bd976a">--zindex-overlay</span><span style="color:#666">);</span></span>
<span class="line"><span style="color:#666">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666">.</span><span style="color:#bd976a">bottom-sheet</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#b8a965">position</span><span style="color:#666">:</span><span style="color:#dbd7CAEE"> </span><span style="color:#c99076">fixed</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#b8a965">left</span><span style="color:#666">:</span><span style="color:#dbd7CAEE"> </span><span style="color:#4c9a91">0</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#b8a965">right</span><span style="color:#666">:</span><span style="color:#dbd7CAEE"> </span><span style="color:#4c9a91">0</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#b8a965">z-index</span><span style="color:#666">:</span><span style="color:#dbd7CAEE"> </span><span style="color:#b8a965">var</span><span style="color:#666">(</span><span style="color:#bd976a">--zindex-bottom-sheet</span><span style="color:#666">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#b8a965">background</span><span style="color:#666">:</span><span style="color:#dbd7CAEE"> </span><span style="color:#c99076">#fff</span><span style="color:#666">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#b8a965">transition</span><span style="color:#666">:</span><span style="color:#dbd7CAEE"> </span><span style="color:#c99076">bottom</span><span style="color:#dbd7CAEE"> </span><span style="color:#4c9a91">0.3</span><span style="color:#cb7676">s</span><span style="color:#666">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#666">&amp;</span><span style="color:#bd976a">--active</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#b8a965">bottom</span><span style="color:#666">:</span><span style="color:#dbd7CAEE"> </span><span style="color:#4c9a91">0</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#b8a965">transition</span><span style="color:#666">:</span><span style="color:#dbd7CAEE"> </span><span style="color:#c99076">bottom</span><span style="color:#dbd7CAEE"> </span><span style="color:#4c9a91">0.3</span><span style="color:#cb7676">s</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#666">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#666">&amp;</span><span style="color:#bd976a">--touching</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#b8a965">transition</span><span style="color:#666">:</span><span style="color:#dbd7CAEE"> </span><span style="color:#c99076">bottom</span><span style="color:#dbd7CAEE"> </span><span style="color:#4c9a91">0</span><span style="color:#cb7676">s</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#666">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#666">&amp;</span><span style="color:#bd976a">__header</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#b8a965">padding</span><span style="color:#666">:</span><span style="color:#dbd7CAEE"> </span><span style="color:#4c9a91">10</span><span style="color:#cb7676">px</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#b8a965">border-radius</span><span style="color:#666">:</span><span style="color:#dbd7CAEE"> </span><span style="color:#4c9a91">100</span><span style="color:#cb7676">px</span><span style="color:#dbd7CAEE"> </span><span style="color:#4c9a91">100</span><span style="color:#cb7676">px</span><span style="color:#dbd7CAEE"> </span><span style="color:#4c9a91">0</span><span style="color:#dbd7CAEE"> </span><span style="color:#4c9a91">0</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#b8a965">box-shadow</span><span style="color:#666">:</span><span style="color:#dbd7CAEE"> </span><span style="color:#4c9a91">0</span><span style="color:#dbd7CAEE"> </span><span style="color:#4c9a91">0</span><span style="color:#dbd7CAEE"> </span><span style="color:#4c9a91">10</span><span style="color:#cb7676">px</span><span style="color:#dbd7CAEE"> </span><span style="color:#b8a965">rgba</span><span style="color:#666">(</span><span style="color:#4c9a91">0</span><span style="color:#666">,</span><span style="color:#dbd7CAEE"> </span><span style="color:#4c9a91">0</span><span style="color:#666">,</span><span style="color:#dbd7CAEE"> </span><span style="color:#4c9a91">0</span><span style="color:#666">,</span><span style="color:#dbd7CAEE"> </span><span style="color:#4c9a91">0.06</span><span style="color:#666">);</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#b8a965">text-align</span><span style="color:#666">:</span><span style="color:#dbd7CAEE"> </span><span style="color:#c99076">center</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#b8a965">z-index</span><span style="color:#666">:</span><span style="color:#dbd7CAEE"> </span><span style="color:#4c9a91">1998</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#666">.</span><span style="color:#bd976a">active-bar</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#dbd7CAEE">      </span><span style="color:#b8a965">width</span><span style="color:#666">:</span><span style="color:#dbd7CAEE"> </span><span style="color:#4c9a91">120</span><span style="color:#cb7676">px</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#dbd7CAEE">      </span><span style="color:#b8a965">height</span><span style="color:#666">:</span><span style="color:#dbd7CAEE"> </span><span style="color:#4c9a91">6</span><span style="color:#cb7676">px</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#dbd7CAEE">      </span><span style="color:#b8a965">margin</span><span style="color:#666">:</span><span style="color:#dbd7CAEE"> </span><span style="color:#4c9a91">0</span><span style="color:#dbd7CAEE"> </span><span style="color:#c99076">auto</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#dbd7CAEE">      </span><span style="color:#b8a965">border-radius</span><span style="color:#666">:</span><span style="color:#dbd7CAEE"> </span><span style="color:#4c9a91">100</span><span style="color:#cb7676">px</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#dbd7CAEE">      </span><span style="color:#b8a965">background</span><span style="color:#666">:</span><span style="color:#dbd7CAEE"> </span><span style="color:#b8a965">var</span><span style="color:#666">(</span><span style="color:#bd976a">--color-active-bar</span><span style="color:#666">);</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#666">}</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#666">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#666">&amp;</span><span style="color:#bd976a">__content</span><span style="color:#dbd7CAEE"> </span><span style="color:#666">{</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#b8a965">z-index</span><span style="color:#666">:</span><span style="color:#dbd7CAEE"> </span><span style="color:#4c9a91">1999</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#dbd7CAEE">    </span><span style="color:#b8a965">background</span><span style="color:#666">:</span><span style="color:#dbd7CAEE"> </span><span style="color:#c99076">#fff</span><span style="color:#666">;</span></span>
<span class="line"><span style="color:#dbd7CAEE">  </span><span style="color:#666">}</span></span>
<span class="line"><span style="color:#666">}</span></span>
<span class="line"><span style="color:#666">&lt;/</span><span style="color:#4d9375">style</span><span style="color:#666">&gt;</span></span>
<span class="line"></span></code></pre><pre class="shiki shiki-light" style="background-color:#fff"><code v-pre=""><span class="line"><span style="color:#999">&lt;</span><span style="color:#1e754f">script</span><span style="color:#393a34"> </span><span style="color:#b07d48">lang</span><span style="color:#393a34">=</span><span style="color:#b56959AA">"</span><span style="color:#b56959">ts</span><span style="color:#b56959AA">"</span><span style="color:#393a34"> </span><span style="color:#b07d48">setup</span><span style="color:#999">&gt;</span></span>
<span class="line"><span style="color:#1e754f">import</span><span style="color:#393a34"> </span><span style="color:#999">{</span><span style="color:#393a34"> </span><span style="color:#b07d48">computed</span><span style="color:#999">,</span><span style="color:#393a34"> </span><span style="color:#b07d48">ref</span><span style="color:#393a34"> </span><span style="color:#999">}</span><span style="color:#393a34"> </span><span style="color:#1e754f">from</span><span style="color:#393a34"> </span><span style="color:#b56959AA">"</span><span style="color:#b56959">vue</span><span style="color:#b56959AA">"</span><span style="color:#999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1e754f">import</span><span style="color:#393a34"> </span><span style="color:#b07d48">bemCreator</span><span style="color:#393a34"> </span><span style="color:#1e754f">from</span><span style="color:#393a34"> </span><span style="color:#b56959AA">"</span><span style="color:#b56959">@lib/shared/bem</span><span style="color:#b56959AA">"</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#1e754f">import</span><span style="color:#393a34"> </span><span style="color:#b07d48">useToggle</span><span style="color:#393a34"> </span><span style="color:#1e754f">from</span><span style="color:#393a34"> </span><span style="color:#b56959AA">"</span><span style="color:#b56959">@lib/vue/composables/useToggle</span><span style="color:#b56959AA">"</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#1e754f">import</span><span style="color:#393a34"> </span><span style="color:#b07d48">useTouchMove</span><span style="color:#393a34"> </span><span style="color:#1e754f">from</span><span style="color:#393a34"> </span><span style="color:#b56959AA">"</span><span style="color:#b56959">@lib/vue/composables/useTouchMove</span><span style="color:#b56959AA">"</span><span style="color:#999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#a0ada0">/**</span></span>
<span class="line"><span style="color:#a0ada0"> * 关闭时展示active bar的高度</span></span>
<span class="line"><span style="color:#a0ada0"> */</span></span>
<span class="line"><span style="color:#ab5959">const </span><span style="color:#b07d48">ActiveBarHeight</span><span style="color:#ab5959"> </span><span style="color:#999">=</span><span style="color:#ab5959"> </span><span style="color:#2f798a">26</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#ab5959">const </span><span style="color:#b07d48">bem</span><span style="color:#ab5959"> </span><span style="color:#999">=</span><span style="color:#ab5959"> </span><span style="color:#59873a">bemCreator</span><span style="color:#999">(</span><span style="color:#b56959AA">"</span><span style="color:#b56959">bottom-sheet</span><span style="color:#b56959AA">"</span><span style="color:#999">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ab5959">const </span><span style="color:#b07d48">props</span><span style="color:#ab5959"> </span><span style="color:#999">=</span><span style="color:#ab5959"> </span><span style="color:#59873a">withDefaults</span><span style="color:#999">(</span></span>
<span class="line"><span style="color:#ab5959">  </span><span style="color:#59873a">defineProps</span><span style="color:#999">&lt;{</span></span>
<span class="line"><span style="color:#ab5959">    </span><span style="color:#b07d48">visible</span><span style="color:#999">: </span><span style="color:#2e808f">boolean</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#ab5959">    </span><span style="color:#b07d48">height</span><span style="color:#ab5959">?</span><span style="color:#999">: </span><span style="color:#2e808f">number</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#ab5959">    </span><span style="color:#b07d48">disableOverlayClick</span><span style="color:#ab5959">?</span><span style="color:#999">: </span><span style="color:#2e808f">boolean</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#ab5959">    </span><span style="color:#b07d48">showActiveBar</span><span style="color:#ab5959">?</span><span style="color:#999">: </span><span style="color:#2e808f">boolean</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#ab5959">  </span><span style="color:#999">}&gt;(),</span></span>
<span class="line"><span style="color:#ab5959">  </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#ab5959">    </span><span style="color:#998418">disableOverlayClick</span><span style="color:#999">:</span><span style="color:#ab5959"> </span><span style="color:#1e754f">false</span><span style="color:#999">,</span></span>
<span class="line"><span style="color:#ab5959">    </span><span style="color:#998418">height</span><span style="color:#999">:</span><span style="color:#ab5959"> </span><span style="color:#2f798a">500</span><span style="color:#999">,</span></span>
<span class="line"><span style="color:#ab5959">    </span><span style="color:#998418">showActiveBar</span><span style="color:#999">:</span><span style="color:#ab5959"> </span><span style="color:#1e754f">false</span><span style="color:#999">,</span></span>
<span class="line"><span style="color:#ab5959">  </span><span style="color:#999">}</span></span>
<span class="line"><span style="color:#999">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ab5959">const </span><span style="color:#b07d48">emits</span><span style="color:#ab5959"> </span><span style="color:#999">=</span><span style="color:#ab5959"> </span><span style="color:#59873a">defineEmits</span><span style="color:#999">&lt;{</span></span>
<span class="line"><span style="color:#ab5959">  </span><span style="color:#999">(</span><span style="color:#b07d48">event</span><span style="color:#999">: </span><span style="color:#b56959AA">"</span><span style="color:#b56959">update:visible</span><span style="color:#b56959AA">"</span><span style="color:#999">,</span><span style="color:#ab5959"> </span><span style="color:#b07d48">value</span><span style="color:#999">: </span><span style="color:#2e808f">boolean</span><span style="color:#999">):</span><span style="color:#ab5959"> </span><span style="color:#2e808f">void</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#999">}&gt;();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ab5959">const </span><span style="color:#b07d48">selfVisible</span><span style="color:#ab5959"> </span><span style="color:#999">=</span><span style="color:#ab5959"> </span><span style="color:#59873a">computed</span><span style="color:#999">({</span></span>
<span class="line"><span style="color:#ab5959">  </span><span style="color:#59873a">get</span><span style="color:#999">()</span><span style="color:#ab5959"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#ab5959">    </span><span style="color:#1e754f">return</span><span style="color:#ab5959"> </span><span style="color:#b07d48">props</span><span style="color:#999">.</span><span style="color:#b07d48">visible</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#ab5959">  </span><span style="color:#999">},</span></span>
<span class="line"><span style="color:#ab5959">  </span><span style="color:#59873a">set</span><span style="color:#999">(</span><span style="color:#b07d48">val</span><span style="color:#999">)</span><span style="color:#ab5959"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#ab5959">    </span><span style="color:#59873a">emits</span><span style="color:#999">(</span><span style="color:#b56959AA">"</span><span style="color:#b56959">update:visible</span><span style="color:#b56959AA">"</span><span style="color:#999">,</span><span style="color:#ab5959"> </span><span style="color:#b07d48">val</span><span style="color:#999">);</span></span>
<span class="line"><span style="color:#ab5959">  </span><span style="color:#999">},</span></span>
<span class="line"><span style="color:#999">});</span></span>
<span class="line"><span style="color:#ab5959">const </span><span style="color:#59873a">toggleSelfVisible</span><span style="color:#ab5959"> </span><span style="color:#999">=</span><span style="color:#ab5959"> </span><span style="color:#999">(</span><span style="color:#b07d48">value</span><span style="color:#ab5959">?</span><span style="color:#999">: </span><span style="color:#2e808f">boolean</span><span style="color:#999">)</span><span style="color:#ab5959"> </span><span style="color:#999">=&gt;</span><span style="color:#ab5959"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#ab5959">  </span><span style="color:#b07d48">selfVisible</span><span style="color:#999">.</span><span style="color:#b07d48">value</span><span style="color:#ab5959"> </span><span style="color:#999">=</span><span style="color:#ab5959"> </span><span style="color:#b07d48">value</span><span style="color:#ab5959"> === undefined ? !</span><span style="color:#b07d48">selfVisible</span><span style="color:#999">.</span><span style="color:#b07d48">value</span><span style="color:#ab5959"> : </span><span style="color:#b07d48">value</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#999">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ab5959">const </span><span style="color:#59873a">overlayClickHandler</span><span style="color:#ab5959"> </span><span style="color:#999">=</span><span style="color:#ab5959"> </span><span style="color:#999">()</span><span style="color:#ab5959"> </span><span style="color:#999">=&gt;</span><span style="color:#ab5959"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#ab5959">  </span><span style="color:#1e754f">if</span><span style="color:#ab5959"> </span><span style="color:#999">(</span><span style="color:#b07d48">props</span><span style="color:#999">.</span><span style="color:#b07d48">disableOverlayClick</span><span style="color:#999">)</span><span style="color:#ab5959"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#ab5959">    </span><span style="color:#1e754f">return</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#ab5959">  </span><span style="color:#999">}</span></span>
<span class="line"><span style="color:#ab5959">  </span><span style="color:#59873a">toggleSelfVisible</span><span style="color:#999">(</span><span style="color:#1e754f">false</span><span style="color:#999">);</span></span>
<span class="line"><span style="color:#999">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#a0ada0">/**</span></span>
<span class="line"><span style="color:#a0ada0"> * 基准速度</span></span>
<span class="line"><span style="color:#a0ada0"> */</span></span>
<span class="line"><span style="color:#ab5959">const </span><span style="color:#b07d48">BasicV</span><span style="color:#ab5959"> </span><span style="color:#999">=</span><span style="color:#ab5959"> </span><span style="color:#2f798a">0.5</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#ab5959">const </span><span style="color:#999">[</span><span style="color:#b07d48">isTouching</span><span style="color:#999">,</span><span style="color:#ab5959"> </span><span style="color:#b07d48">toggleIsTouching</span><span style="color:#999">]</span><span style="color:#ab5959"> </span><span style="color:#999">=</span><span style="color:#ab5959"> </span><span style="color:#59873a">useToggle</span><span style="color:#999">(</span><span style="color:#1e754f">false</span><span style="color:#999">);</span></span>
<span class="line"><span style="color:#ab5959">const </span><span style="color:#b07d48">willToPosition</span><span style="color:#ab5959"> </span><span style="color:#999">=</span><span style="color:#ab5959"> </span><span style="color:#59873a">ref</span><span style="color:#999">(</span><span style="color:#b56959AA">""</span><span style="color:#999">);</span></span>
<span class="line"><span style="color:#ab5959">const </span><span style="color:#999">{</span><span style="color:#ab5959"> </span><span style="color:#b07d48">distanceY</span><span style="color:#999">,</span><span style="color:#ab5959"> </span><span style="color:#b07d48">deltaTime</span><span style="color:#999">,</span><span style="color:#ab5959"> </span><span style="color:#b07d48">touchStart</span><span style="color:#999">,</span><span style="color:#ab5959"> </span><span style="color:#b07d48">touchMove</span><span style="color:#999">,</span><span style="color:#ab5959"> </span><span style="color:#b07d48">touchEnd</span><span style="color:#ab5959"> </span><span style="color:#999">}</span><span style="color:#ab5959"> </span><span style="color:#999">=</span><span style="color:#ab5959"> </span><span style="color:#59873a">useTouchMove</span><span style="color:#999">({</span></span>
<span class="line"><span style="color:#ab5959">  </span><span style="color:#59873a">onTouchStart</span><span style="color:#999">()</span><span style="color:#ab5959"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#ab5959">    </span><span style="color:#59873a">toggleIsTouching</span><span style="color:#999">(</span><span style="color:#1e754f">true</span><span style="color:#999">);</span></span>
<span class="line"><span style="color:#ab5959">    </span><span style="color:#b07d48">willToPosition</span><span style="color:#999">.</span><span style="color:#b07d48">value</span><span style="color:#ab5959"> </span><span style="color:#999">=</span><span style="color:#ab5959"> </span><span style="color:#b56959AA">""</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#ab5959">  </span><span style="color:#999">},</span></span>
<span class="line"><span style="color:#ab5959">  </span><span style="color:#59873a">onTouchEnd</span><span style="color:#999">()</span><span style="color:#ab5959"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#ab5959">    </span><span style="color:#59873a">toggleIsTouching</span><span style="color:#999">(</span><span style="color:#1e754f">false</span><span style="color:#999">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ab5959">    const </span><span style="color:#b07d48">v</span><span style="color:#ab5959"> </span><span style="color:#999">=</span><span style="color:#ab5959"> </span><span style="color:#b07d48">Math</span><span style="color:#999">.</span><span style="color:#59873a">abs</span><span style="color:#999">(</span><span style="color:#b07d48">distanceY</span><span style="color:#999">.</span><span style="color:#b07d48">value</span><span style="color:#999">)</span><span style="color:#ab5959"> / </span><span style="color:#b07d48">deltaTime</span><span style="color:#999">.</span><span style="color:#b07d48">value</span><span style="color:#999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ab5959">    </span><span style="color:#1e754f">if</span><span style="color:#ab5959"> </span><span style="color:#999">(</span></span>
<span class="line"><span style="color:#ab5959">      </span><span style="color:#b07d48">distanceY</span><span style="color:#999">.</span><span style="color:#b07d48">value</span><span style="color:#ab5959"> &gt; </span><span style="color:#b07d48">props</span><span style="color:#999">.</span><span style="color:#b07d48">height</span><span style="color:#ab5959"> / </span><span style="color:#2f798a">2</span><span style="color:#ab5959"> ||</span></span>
<span class="line"><span style="color:#ab5959">      </span><span style="color:#999">(</span><span style="color:#b07d48">selfVisible</span><span style="color:#999">.</span><span style="color:#b07d48">value</span><span style="color:#ab5959"> &amp;&amp; </span><span style="color:#b07d48">distanceY</span><span style="color:#999">.</span><span style="color:#b07d48">value</span><span style="color:#ab5959"> &gt; </span><span style="color:#2f798a">0</span><span style="color:#ab5959"> &amp;&amp; </span><span style="color:#b07d48">v</span><span style="color:#ab5959"> &gt; </span><span style="color:#b07d48">BasicV</span><span style="color:#999">)</span></span>
<span class="line"><span style="color:#ab5959">    </span><span style="color:#999">)</span><span style="color:#ab5959"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#999">      </span><span style="color:#a0ada0">// 向下滑动 =&gt; 距离超过高度一般 or 方向正确 速度大于基准值</span></span>
<span class="line"><span style="color:#ab5959">      </span><span style="color:#59873a">toggleSelfVisible</span><span style="color:#999">(</span><span style="color:#1e754f">false</span><span style="color:#999">);</span></span>
<span class="line"><span style="color:#ab5959">    </span><span style="color:#999">}</span><span style="color:#ab5959"> </span><span style="color:#1e754f">else</span><span style="color:#ab5959"> </span><span style="color:#1e754f">if</span><span style="color:#ab5959"> </span><span style="color:#999">(</span><span style="color:#b07d48">distanceY</span><span style="color:#999">.</span><span style="color:#b07d48">value</span><span style="color:#ab5959"> &lt; </span><span style="color:#2f798a">0</span><span style="color:#ab5959"> &amp;&amp; !</span><span style="color:#b07d48">selfVisible</span><span style="color:#999">.</span><span style="color:#b07d48">value</span><span style="color:#999">)</span><span style="color:#ab5959"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#999">      </span><span style="color:#a0ada0">// 向上滑动，仅关闭时触发</span></span>
<span class="line"><span style="color:#ab5959">      </span><span style="color:#59873a">toggleSelfVisible</span><span style="color:#999">();</span></span>
<span class="line"><span style="color:#ab5959">      </span><span style="color:#b07d48">willToPosition</span><span style="color:#999">.</span><span style="color:#b07d48">value</span><span style="color:#ab5959"> </span><span style="color:#999">=</span><span style="color:#ab5959"> </span><span style="color:#b56959AA">"</span><span style="color:#b56959">0px</span><span style="color:#b56959AA">"</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#ab5959">    </span><span style="color:#999">}</span></span>
<span class="line"><span style="color:#ab5959">  </span><span style="color:#999">},</span></span>
<span class="line"><span style="color:#999">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#a0ada0">/**</span></span>
<span class="line"><span style="color:#a0ada0"> * 触发模式动画计算</span></span>
<span class="line"><span style="color:#a0ada0"> */</span></span>
<span class="line"><span style="color:#ab5959">const </span><span style="color:#b07d48">triggerAnimeStyle</span><span style="color:#ab5959"> </span><span style="color:#999">=</span><span style="color:#ab5959"> </span><span style="color:#59873a">computed</span><span style="color:#999">(()</span><span style="color:#ab5959"> </span><span style="color:#999">=&gt;</span><span style="color:#ab5959"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#ab5959">  const </span><span style="color:#b07d48">commonStyle</span><span style="color:#ab5959"> </span><span style="color:#999">=</span><span style="color:#ab5959"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#ab5959">    </span><span style="color:#998418">height</span><span style="color:#999">:</span><span style="color:#ab5959"> </span><span style="color:#b56959AA">`</span><span style="color:#999">${</span><span style="color:#b56959">props</span><span style="color:#999">.</span><span style="color:#b56959">height</span><span style="color:#999">}</span><span style="color:#b56959">px</span><span style="color:#b56959AA">`</span><span style="color:#999">,</span></span>
<span class="line"><span style="color:#ab5959">  </span><span style="color:#999">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ab5959">  const </span><span style="color:#59873a">computeBottom</span><span style="color:#ab5959"> </span><span style="color:#999">=</span><span style="color:#ab5959"> </span><span style="color:#999">()</span><span style="color:#ab5959"> </span><span style="color:#999">=&gt;</span><span style="color:#ab5959"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#ab5959">    </span><span style="color:#1e754f">if</span><span style="color:#ab5959"> </span><span style="color:#999">(</span><span style="color:#b07d48">selfVisible</span><span style="color:#999">.</span><span style="color:#b07d48">value</span><span style="color:#999">)</span><span style="color:#ab5959"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#ab5959">      </span><span style="color:#1e754f">return</span><span style="color:#ab5959"> </span><span style="color:#b07d48">isTouching</span><span style="color:#999">.</span><span style="color:#b07d48">value</span></span>
<span class="line"><span style="color:#ab5959">        ? </span><span style="color:#b56959AA">`</span><span style="color:#999">${</span><span style="color:#ab5959">-</span><span style="color:#2f798a">1</span><span style="color:#b56959"> </span><span style="color:#ab5959">*</span><span style="color:#b56959"> distanceY</span><span style="color:#999">.</span><span style="color:#b56959">value</span><span style="color:#999">}</span><span style="color:#b56959">px</span><span style="color:#b56959AA">`</span></span>
<span class="line"><span style="color:#ab5959">        : </span><span style="color:#b07d48">willToPosition</span><span style="color:#999">.</span><span style="color:#b07d48">value</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#ab5959">    </span><span style="color:#999">}</span><span style="color:#ab5959"> </span><span style="color:#1e754f">else</span><span style="color:#ab5959"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#ab5959">      </span><span style="color:#1e754f">return</span><span style="color:#ab5959"> </span><span style="color:#b07d48">isTouching</span><span style="color:#999">.</span><span style="color:#b07d48">value</span><span style="color:#ab5959"> &amp;&amp; </span><span style="color:#b07d48">Math</span><span style="color:#999">.</span><span style="color:#59873a">abs</span><span style="color:#999">(</span><span style="color:#b07d48">distanceY</span><span style="color:#999">.</span><span style="color:#b07d48">value</span><span style="color:#999">)</span><span style="color:#ab5959"> &gt; </span><span style="color:#b07d48">ActiveBarHeight</span></span>
<span class="line"><span style="color:#ab5959">        ? </span><span style="color:#b56959AA">`</span><span style="color:#999">${</span><span style="color:#ab5959">-</span><span style="color:#2f798a">1</span><span style="color:#b56959"> </span><span style="color:#ab5959">*</span><span style="color:#b56959"> distanceY</span><span style="color:#999">.</span><span style="color:#b56959">value </span><span style="color:#ab5959">-</span><span style="color:#b56959"> props</span><span style="color:#999">.</span><span style="color:#b56959">height</span><span style="color:#999">}</span><span style="color:#b56959">px</span><span style="color:#b56959AA">`</span></span>
<span class="line"><span style="color:#ab5959">        : </span><span style="color:#b56959AA">`</span><span style="color:#999">${</span></span>
<span class="line"><span style="color:#b56959">            </span><span style="color:#ab5959">-</span><span style="color:#2f798a">1</span><span style="color:#b56959"> </span><span style="color:#ab5959">*</span><span style="color:#b56959"> </span><span style="color:#999">(</span><span style="color:#b56959">props</span><span style="color:#999">.</span><span style="color:#b56959">height </span><span style="color:#ab5959">-</span><span style="color:#b56959"> </span><span style="color:#999">(</span><span style="color:#b56959">props</span><span style="color:#999">.</span><span style="color:#b56959">showActiveBar </span><span style="color:#ab5959">?</span><span style="color:#b56959"> ActiveBarHeight </span><span style="color:#ab5959">:</span><span style="color:#b56959"> </span><span style="color:#2f798a">0</span><span style="color:#999">))</span></span>
<span class="line"><span style="color:#b56959">          </span><span style="color:#999">}</span><span style="color:#b56959">px</span><span style="color:#b56959AA">`</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#ab5959">    </span><span style="color:#999">}</span></span>
<span class="line"><span style="color:#ab5959">  </span><span style="color:#999">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ab5959">  </span><span style="color:#1e754f">return</span><span style="color:#ab5959"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#ab5959">    </span><span style="color:#999">...</span><span style="color:#b07d48">commonStyle</span><span style="color:#999">,</span></span>
<span class="line"><span style="color:#ab5959">    </span><span style="color:#998418">bottom</span><span style="color:#999">:</span><span style="color:#ab5959"> </span><span style="color:#59873a">computeBottom</span><span style="color:#999">(),</span></span>
<span class="line"><span style="color:#ab5959">  </span><span style="color:#999">};</span></span>
<span class="line"><span style="color:#999">});</span></span>
<span class="line"><span style="color:#999">&lt;/</span><span style="color:#1e754f">script</span><span style="color:#999">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999">&lt;</span><span style="color:#1e754f">template</span><span style="color:#999">&gt;</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#999">&lt;</span><span style="color:#998418">Teleport</span><span style="color:#999"> </span><span style="color:#b07d48">to</span><span style="color:#999">=</span><span style="color:#b56959AA">"</span><span style="color:#b56959">body</span><span style="color:#b56959AA">"</span><span style="color:#999">&gt;</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#999">&lt;</span><span style="color:#998418">Transition</span><span style="color:#999"> </span><span style="color:#b07d48">name</span><span style="color:#999">=</span><span style="color:#b56959AA">"</span><span style="color:#b56959">fade</span><span style="color:#b56959AA">"</span><span style="color:#999">&gt;</span></span>
<span class="line"><span style="color:#393a34">      </span><span style="color:#999">&lt;</span><span style="color:#1e754f">div</span></span>
<span class="line"><span style="color:#999">        </span><span style="color:#b07d48">v-if</span><span style="color:#999">=</span><span style="color:#b56959AA">"</span><span style="color:#b07d48">selfVisible</span><span style="color:#b56959AA">"</span></span>
<span class="line"><span style="color:#999">        </span><span style="color:#b07d48">class</span><span style="color:#999">=</span><span style="color:#b56959AA">"</span><span style="color:#b56959">overlay</span><span style="color:#b56959AA">"</span></span>
<span class="line"><span style="color:#999">        @</span><span style="color:#b07d48">click</span><span style="color:#999">=</span><span style="color:#b56959AA">"</span><span style="color:#b07d48">overlayClickHandler</span><span style="color:#b56959AA">"</span></span>
<span class="line"><span style="color:#999">      &gt;&lt;/</span><span style="color:#1e754f">div</span><span style="color:#999">&gt;</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#999">&lt;/</span><span style="color:#998418">Transition</span><span style="color:#999">&gt;</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#999">&lt;</span><span style="color:#1e754f">div</span></span>
<span class="line"><span style="color:#999">      :</span><span style="color:#b07d48">class</span><span style="color:#999">=</span><span style="color:#b56959AA">"</span><span style="color:#59873a">bem</span><span style="color:#999">(</span><span style="color:#b56959AA">''</span><span style="color:#999">, { </span><span style="color:#998418">active</span><span style="color:#999">: </span><span style="color:#b07d48">selfVisible</span><span style="color:#999">, </span><span style="color:#998418">touching</span><span style="color:#999">: </span><span style="color:#b07d48">isTouching</span><span style="color:#999"> })</span><span style="color:#b56959AA">"</span></span>
<span class="line"><span style="color:#999">      :</span><span style="color:#b07d48">style</span><span style="color:#999">=</span><span style="color:#b56959AA">"</span><span style="color:#b07d48">triggerAnimeStyle</span><span style="color:#b56959AA">"</span></span>
<span class="line"><span style="color:#999">    &gt;</span></span>
<span class="line"><span style="color:#393a34">      </span><span style="color:#999">&lt;</span><span style="color:#1e754f">div</span></span>
<span class="line"><span style="color:#999">        :</span><span style="color:#b07d48">class</span><span style="color:#999">=</span><span style="color:#b56959AA">"</span><span style="color:#59873a">bem</span><span style="color:#999">(</span><span style="color:#b56959AA">'</span><span style="color:#b56959">header</span><span style="color:#b56959AA">'</span><span style="color:#999">)</span><span style="color:#b56959AA">"</span></span>
<span class="line"><span style="color:#999">        @</span><span style="color:#b07d48">touchstart</span><span style="color:#999">.</span><span style="color:#b07d48">stop</span><span style="color:#999">=</span><span style="color:#b56959AA">"</span><span style="color:#b07d48">touchStart</span><span style="color:#b56959AA">"</span></span>
<span class="line"><span style="color:#999">        @</span><span style="color:#b07d48">touchmove</span><span style="color:#999">.</span><span style="color:#b07d48">stop</span><span style="color:#999">=</span><span style="color:#b56959AA">"</span><span style="color:#b07d48">touchMove</span><span style="color:#b56959AA">"</span></span>
<span class="line"><span style="color:#999">        @</span><span style="color:#b07d48">touchend</span><span style="color:#999">.</span><span style="color:#b07d48">stop</span><span style="color:#999">=</span><span style="color:#b56959AA">"</span><span style="color:#b07d48">touchEnd</span><span style="color:#b56959AA">"</span></span>
<span class="line"><span style="color:#999">        @</span><span style="color:#b07d48">click</span><span style="color:#999">.</span><span style="color:#b07d48">stop</span><span style="color:#999">=</span><span style="color:#b56959AA">"</span><span style="color:#59873a">toggleSelfVisible</span><span style="color:#999">()</span><span style="color:#b56959AA">"</span></span>
<span class="line"><span style="color:#999">      &gt;</span></span>
<span class="line"><span style="color:#393a34">        </span><span style="color:#999">&lt;</span><span style="color:#1e754f">div</span><span style="color:#393a34"> </span><span style="color:#b07d48">class</span><span style="color:#393a34">=</span><span style="color:#b56959AA">"</span><span style="color:#b56959">active-bar</span><span style="color:#b56959AA">"</span><span style="color:#999">&gt;&lt;/</span><span style="color:#1e754f">div</span><span style="color:#999">&gt;</span></span>
<span class="line"><span style="color:#393a34">      </span><span style="color:#999">&lt;/</span><span style="color:#1e754f">div</span><span style="color:#999">&gt;</span></span>
<span class="line"><span style="color:#393a34">      </span><span style="color:#999">&lt;</span><span style="color:#1e754f">div</span><span style="color:#999"> :</span><span style="color:#b07d48">class</span><span style="color:#999">=</span><span style="color:#b56959AA">"</span><span style="color:#59873a">bem</span><span style="color:#999">(</span><span style="color:#b56959AA">'</span><span style="color:#b56959">content</span><span style="color:#b56959AA">'</span><span style="color:#999">)</span><span style="color:#b56959AA">"</span><span style="color:#999">&gt;</span></span>
<span class="line"><span style="color:#393a34">        </span><span style="color:#999">&lt;</span><span style="color:#1e754f">slot</span><span style="color:#999">&gt;&lt;/</span><span style="color:#1e754f">slot</span><span style="color:#999">&gt;</span></span>
<span class="line"><span style="color:#393a34">      </span><span style="color:#999">&lt;/</span><span style="color:#1e754f">div</span><span style="color:#999">&gt;</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#999">&lt;/</span><span style="color:#1e754f">div</span><span style="color:#999">&gt;</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#999">&lt;/</span><span style="color:#998418">Teleport</span><span style="color:#999">&gt;</span></span>
<span class="line"><span style="color:#999">&lt;/</span><span style="color:#1e754f">template</span><span style="color:#999">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999">&lt;</span><span style="color:#1e754f">style</span><span style="color:#393a34"> </span><span style="color:#b07d48">lang</span><span style="color:#393a34">=</span><span style="color:#b56959AA">"</span><span style="color:#b56959">less</span><span style="color:#b56959AA">"</span><span style="color:#999">&gt;</span></span>
<span class="line"><span style="color:#999">:</span><span style="color:#b07d48">root</span><span style="color:#393a34"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#999">--</span><span style="color:#b07d48">zindex-overlay</span><span style="color:#999">:</span><span style="color:#393a34"> </span><span style="color:#2f798a">2000</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#999">--</span><span style="color:#b07d48">zindex-bottom-sheet</span><span style="color:#999">:</span><span style="color:#393a34"> </span><span style="color:#2f798a">2001</span><span style="color:#999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#999">--</span><span style="color:#b07d48">color-active-bar</span><span style="color:#999">:</span><span style="color:#393a34"> </span><span style="color:#a65e2b">#e2e2e2</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#999">}</span></span>
<span class="line"><span style="color:#999">&lt;/</span><span style="color:#1e754f">style</span><span style="color:#999">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999">&lt;</span><span style="color:#1e754f">style</span><span style="color:#393a34"> </span><span style="color:#b07d48">lang</span><span style="color:#393a34">=</span><span style="color:#b56959AA">"</span><span style="color:#b56959">less</span><span style="color:#b56959AA">"</span><span style="color:#393a34"> </span><span style="color:#b07d48">scoped</span><span style="color:#999">&gt;</span></span>
<span class="line"><span style="color:#999">.</span><span style="color:#b07d48">overlay</span><span style="color:#393a34"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#998418">position</span><span style="color:#999">:</span><span style="color:#393a34"> </span><span style="color:#a65e2b">fixed</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#998418">top</span><span style="color:#999">:</span><span style="color:#393a34"> </span><span style="color:#2f798a">0</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#998418">bottom</span><span style="color:#999">:</span><span style="color:#393a34"> </span><span style="color:#2f798a">0</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#998418">left</span><span style="color:#999">:</span><span style="color:#393a34"> </span><span style="color:#2f798a">0</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#998418">right</span><span style="color:#999">:</span><span style="color:#393a34"> </span><span style="color:#2f798a">0</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#998418">z-index</span><span style="color:#999">:</span><span style="color:#393a34"> </span><span style="color:#998418">var</span><span style="color:#999">(</span><span style="color:#b07d48">--zindex-overlay</span><span style="color:#999">);</span></span>
<span class="line"><span style="color:#999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999">.</span><span style="color:#b07d48">bottom-sheet</span><span style="color:#393a34"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#998418">position</span><span style="color:#999">:</span><span style="color:#393a34"> </span><span style="color:#a65e2b">fixed</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#998418">left</span><span style="color:#999">:</span><span style="color:#393a34"> </span><span style="color:#2f798a">0</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#998418">right</span><span style="color:#999">:</span><span style="color:#393a34"> </span><span style="color:#2f798a">0</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#998418">z-index</span><span style="color:#999">:</span><span style="color:#393a34"> </span><span style="color:#998418">var</span><span style="color:#999">(</span><span style="color:#b07d48">--zindex-bottom-sheet</span><span style="color:#999">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#998418">background</span><span style="color:#999">:</span><span style="color:#393a34"> </span><span style="color:#a65e2b">#fff</span><span style="color:#999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#998418">transition</span><span style="color:#999">:</span><span style="color:#393a34"> </span><span style="color:#a65e2b">bottom</span><span style="color:#393a34"> </span><span style="color:#2f798a">0.3</span><span style="color:#ab5959">s</span><span style="color:#999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#999">&amp;</span><span style="color:#b07d48">--active</span><span style="color:#393a34"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#998418">bottom</span><span style="color:#999">:</span><span style="color:#393a34"> </span><span style="color:#2f798a">0</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#998418">transition</span><span style="color:#999">:</span><span style="color:#393a34"> </span><span style="color:#a65e2b">bottom</span><span style="color:#393a34"> </span><span style="color:#2f798a">0.3</span><span style="color:#ab5959">s</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#999">&amp;</span><span style="color:#b07d48">--touching</span><span style="color:#393a34"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#998418">transition</span><span style="color:#999">:</span><span style="color:#393a34"> </span><span style="color:#a65e2b">bottom</span><span style="color:#393a34"> </span><span style="color:#2f798a">0</span><span style="color:#ab5959">s</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#999">&amp;</span><span style="color:#b07d48">__header</span><span style="color:#393a34"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#998418">padding</span><span style="color:#999">:</span><span style="color:#393a34"> </span><span style="color:#2f798a">10</span><span style="color:#ab5959">px</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#998418">border-radius</span><span style="color:#999">:</span><span style="color:#393a34"> </span><span style="color:#2f798a">100</span><span style="color:#ab5959">px</span><span style="color:#393a34"> </span><span style="color:#2f798a">100</span><span style="color:#ab5959">px</span><span style="color:#393a34"> </span><span style="color:#2f798a">0</span><span style="color:#393a34"> </span><span style="color:#2f798a">0</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#998418">box-shadow</span><span style="color:#999">:</span><span style="color:#393a34"> </span><span style="color:#2f798a">0</span><span style="color:#393a34"> </span><span style="color:#2f798a">0</span><span style="color:#393a34"> </span><span style="color:#2f798a">10</span><span style="color:#ab5959">px</span><span style="color:#393a34"> </span><span style="color:#998418">rgba</span><span style="color:#999">(</span><span style="color:#2f798a">0</span><span style="color:#999">,</span><span style="color:#393a34"> </span><span style="color:#2f798a">0</span><span style="color:#999">,</span><span style="color:#393a34"> </span><span style="color:#2f798a">0</span><span style="color:#999">,</span><span style="color:#393a34"> </span><span style="color:#2f798a">0.06</span><span style="color:#999">);</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#998418">text-align</span><span style="color:#999">:</span><span style="color:#393a34"> </span><span style="color:#a65e2b">center</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#998418">z-index</span><span style="color:#999">:</span><span style="color:#393a34"> </span><span style="color:#2f798a">1998</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#999">.</span><span style="color:#b07d48">active-bar</span><span style="color:#393a34"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#393a34">      </span><span style="color:#998418">width</span><span style="color:#999">:</span><span style="color:#393a34"> </span><span style="color:#2f798a">120</span><span style="color:#ab5959">px</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#393a34">      </span><span style="color:#998418">height</span><span style="color:#999">:</span><span style="color:#393a34"> </span><span style="color:#2f798a">6</span><span style="color:#ab5959">px</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#393a34">      </span><span style="color:#998418">margin</span><span style="color:#999">:</span><span style="color:#393a34"> </span><span style="color:#2f798a">0</span><span style="color:#393a34"> </span><span style="color:#a65e2b">auto</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#393a34">      </span><span style="color:#998418">border-radius</span><span style="color:#999">:</span><span style="color:#393a34"> </span><span style="color:#2f798a">100</span><span style="color:#ab5959">px</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#393a34">      </span><span style="color:#998418">background</span><span style="color:#999">:</span><span style="color:#393a34"> </span><span style="color:#998418">var</span><span style="color:#999">(</span><span style="color:#b07d48">--color-active-bar</span><span style="color:#999">);</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#999">}</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#999">&amp;</span><span style="color:#b07d48">__content</span><span style="color:#393a34"> </span><span style="color:#999">{</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#998418">z-index</span><span style="color:#999">:</span><span style="color:#393a34"> </span><span style="color:#2f798a">1999</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#393a34">    </span><span style="color:#998418">background</span><span style="color:#999">:</span><span style="color:#393a34"> </span><span style="color:#a65e2b">#fff</span><span style="color:#999">;</span></span>
<span class="line"><span style="color:#393a34">  </span><span style="color:#999">}</span></span>
<span class="line"><span style="color:#999">}</span></span>
<span class="line"><span style="color:#999">&lt;/</span><span style="color:#1e754f">style</span><span style="color:#999">&gt;</span></span>
<span class="line"></span></code></pre></div></code></pre></div></main></div><script>window.__INITIAL_STATE__='{"pinia":{}}'</script></body></html>